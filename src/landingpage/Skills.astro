---
import Card from "../components/Card.astro";
import SectionLayout from "../layouts/SectionLayout.astro";
interface Props {
  bgColor: string;
  textColor: string;
}
const { bgColor, textColor } = Astro.props;
const skills = [
  { name: "Webdesign", icon: "ğŸ¨" },
  { name: "Web App", icon: "ğŸ’»" },
  { name: "Back-end", icon: "ğŸ–¥ï¸" },
  { name: "Mobile Developer", icon: "ğŸ“±" },
  { name: "Software architect", icon: "ğŸ—ï¸" },
  { name: "DevOps", icon: "ğŸ› ï¸" },
];
---

<script>
  import gsap from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  // import { randomAnimation } from "../utils/animation.astro";

  gsap.registerPlugin(ScrollTrigger);

  // enter skills card animation
  const container = document.querySelector(".skills-container");
  // scroll container animation
  if (container) {
    gsap.to(container, {
      x: -650,
      ease: "linear",
      scrollTrigger: {
        trigger: container,
        scrub: true,
        markers: true,
        start: "-100 center",
        end: "300 center",
      },
    });
  }
</script>
<SectionLayout
  id="skills"
  bgColor={bgColor}
  textColor={textColor}
  title="Skills"
  description="Le mie competenze"
>
  <div class="overflow-hidden">
    <div
      class="skills-container flex space-x-4 p-4"
      style={{ width: `${skills.length * 220}px` }}
    >
      <div class="skills-scroll-container flex space-x-4 p-4">
        {
          skills.map((skill) => (
            <div class="skills-item flex-shrink-0 w-48 h-32 bg-palette1 rounded-lg p-4 flex flex-col items-center justify-center text-white">
              <span class="text-3xl mb-2">{skill.icon}</span>
              <span class="text-center">{skill.name}</span>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</SectionLayout>

<style>
  .skills-container {
    width: 100%;
    overflow: hidden;
  }
  .skills-scroll-container {
    width: calc(300px * var(--skill-count));
  }
  .skill-item {
    width: 280px;
    margin-right: 20px;
  }
</style>
